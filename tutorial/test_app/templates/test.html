<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swipe Feature</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì •: í˜ì´ì§€ë¥¼ ê°€ìš´ë° ì •ë ¬í•˜ê³  ë°°ê²½ìƒ‰ì„ ì„¤ì •í•©ë‹ˆë‹¤. */
        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0;
        }

        /* ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼: ì¤‘ì•™ì— ì‚¬ì§„ì„ í¬í•¨í•˜ëŠ” ì¹´ë“œ í¬ê¸°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. */
        .container {
            position: relative;
            width: 300px;
            height: 400px;
        }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼: í°ìƒ‰ ë°°ê²½ì— ê·¸ë¦¼ìì™€ ë‘¥ê·¼ ëª¨ì„œë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. */
        .card {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }

        .hidden {
            display: none;
        }

        /* ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼: ì¹´ë“œ ë‚´ë¶€ì—ì„œ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. */
        .card img {
            width: 100%;
            height: auto;
            border-radius: 10px;
        }

        /* í”¼ë“œë°± ìŠ¤íƒ€ì¼: í™”ë©´ ì¤‘ì•™ì— í° í…ìŠ¤íŠ¸ë¡œ í‘œì‹œí•©ë‹ˆë‹¤. */
        .feedback {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            display: none;
            pointer-events: none;
        }

        /* ì¢‹ì•„ìš” (í•˜íŠ¸) í”¼ë“œë°± ìŠ¤íƒ€ì¼: ë¹¨ê°„ìƒ‰ í…ìŠ¤íŠ¸ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. */
        .feedback.heart {
            color: red;
        }

        /* ì‹«ì–´ìš” í”¼ë“œë°± ìŠ¤íƒ€ì¼: íŒŒë€ìƒ‰ í…ìŠ¤íŠ¸ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. */
        .feedback.dislike {
            color: blue;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <img src="" alt="Swipe Image" class="image">
        </div>
        <div class="card hidden">
            <img src="" alt="Swipe Image" class="image">
        </div>
        <div id="feedback" class="feedback"></div>
    </div>
    <script>
        // ì´ë¯¸ì§€ URL ëª©ë¡
        const imageUrls = [
            'https://blog.kakaocdn.net/dn/cWfP3E/btqEsD61rvL/ZeAtugh3k3fNiXLyxaywe1/img.jpg',
            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhhm9hPnmTtkz4zQJU48ecb_X5kMKPKdwdMUIc-qMfCuxmKXrmc1D04sZuVOnWun_XChU&usqp=CAU',
            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQOR4saTzFVXZ7gR7LKFzAV0YsxWWni-vtr33WbkZF22I59McrBqJn34-mThpl5q6vhVGM&usqp=CAU',
            // ì¶”ê°€ ì´ë¯¸ì§€ URLì„ ì—¬ê¸°ì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        ];

        const cards = document.querySelectorAll('.card');
        const feedback = document.getElementById('feedback');
        let currentCard = 0;
        let currentImageIndex = 0;
        let startX = 0;
        let isMouseDown = false;

        // ì´ˆê¸° ì´ë¯¸ì§€ ë¡œë“œ
        function loadNextImage(cardIndex) {
            const imgElement = cards[cardIndex].querySelector('img');
            imgElement.src = imageUrls[currentImageIndex];
            currentImageIndex = (currentImageIndex + 1) % imageUrls.length;
        }

        // ì²« ë²ˆì§¸ ì´ë¯¸ì§€ ë¡œë“œ
        loadNextImage(0);
        // ì´ê±´ êµ³ì´ í•´ì•¼ë˜ë‚˜??  loadNextImage(1);


        function handleSwipe(direction) {
            const card = cards[currentCard];
            card.style.transform = `rotate(${direction * 45}deg) translate(${direction * 1000}px, -100px)`;
            card.style.opacity = '30';
            setTimeout(() => {
                card.classList.add('hidden');
                currentCard = (currentCard + 1) % cards.length;
                const nextCard = cards[currentCard];
                nextCard.style.transform = 'none';
                nextCard.style.opacity = '1';
                nextCard.classList.remove('hidden');
                feedback.style.display = 'none';
                loadNextImage(currentCard);  // Load new image
            }, 500);
        }

        cards.forEach(card => {
            card.addEventListener('mousedown', (e) => {
                startX = e.clientX;
                isMouseDown = true;
            });

            card.addEventListener('mousemove', (e) => {
                if (!isMouseDown) return;

                const currentX = e.clientX;
                const diffX = currentX - startX;

                if (Math.abs(diffX) > 50) {
                    if (diffX > 0) {
                        feedback.textContent = 'â¤ï¸';
                        feedback.className = 'feedback heart';
                    } else {
                        feedback.textContent = 'ğŸ‘';
                        feedback.className = 'feedback dislike';
                    }
                    feedback.style.display = 'block';
                } else {
                    feedback.style.display = 'none';
                }
            });

            card.addEventListener('mouseup', (e) => {
                if (!isMouseDown) return;
                isMouseDown = false;

                const endX = e.clientX;
                const diffX = endX - startX;

                if (Math.abs(diffX) > 50) {
                    handleSwipe(diffX > 0 ? 1 : -1);
                } else {
                    feedback.style.display = 'none';
                }
            });

            card.addEventListener('mouseleave', () => {
                isMouseDown = false;
                feedback.style.display = 'none';
            });
        });

        // ì¶”ê°€ëœ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ: í„°ì¹˜ ì´ë²¤íŠ¸
        cards.forEach(card => {
            card.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                isMouseDown = true;
            });

            card.addEventListener('touchmove', (e) => {
                if (!isMouseDown) return;

                const currentX = e.touches[0].clientX;
                const diffX = currentX - startX;

                if (Math.abs(diffX) > 50) {
                    if (diffX > 0) {
                        feedback.textContent = 'â¤ï¸';
                        feedback.className = 'feedback heart';
                    } else {
                        feedback.textContent = 'ğŸ‘';
                        feedback.className = 'feedback dislike';
                    }
                    feedback.style.display = 'block';
                } else {
                    feedback.style.display = 'none';
                }
            });

            card.addEventListener('touchend', (e) => {
                if (!isMouseDown) return;
                isMouseDown = false;

                const endX = e.changedTouches[0].clientX;
                const diffX = endX - startX;

                if (Math.abs(diffX) > 50) {
                    handleSwipe(diffX > 0 ? 1 : -1);
                } else {
                    feedback.style.display = 'none';
                }
            });

            card.addEventListener('touchcancel', () => {
                isMouseDown = false;
                feedback.style.display = 'none';
            });
        });
    </script>
</body>
</html>
